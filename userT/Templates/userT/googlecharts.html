{% extends "userT/base3.html"%}
<!doctype html>
<html lang="en">
{%block maindashboard%}
<H1>Googlecharts</H1>


<html>
  <head>
    
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(starter); //cant call drawchart with paarmeters, need the parameters to make the code effcient
    
        function starter(){
            
            
            {% for chart in content%}
             
                drawChart({{chart|safe}} , {{ forloop.counter }},'{{chart.0}}');
            
            {%endfor%}
        }
      function drawChart(values,index,chartTitle) {
        
        firstindex = chartTitle.lastIndexOf("///")+3
        
        lastindex = chartTitle.lastIndexOf(":::")
        var newtitle = chartTitle.substring(firstindex,lastindex );
        
        
        var data = google.visualization.arrayToDataTable(values);

        var options = {
          title: newtitle,
          is3D : true,
          titleTextStyle: {
            color: 'Black',    // any HTML string color ('red', '#cc00cc')
            fontName: 'Helvetica', // i.e. 'Times New Roman'
            fontSize: 20, // 12, 18 whatever you want (don't specify px)
            bold: false,    // true or false
            italic: false   // true of false
        }
        };
        var strpie = "piechart";
        var finalpie = strpie.concat(index);
        var chart = new google.visualization.PieChart(document.getElementById(finalpie));
        chart.draw(data, options);
        //var chart2 = new google.visualization.PieChart(document.getElementById('piechart2'));
        
    //chart2.draw(data, options);
       
      }
     
    </script>
  </head>
  <body>
    <div id="piechart1" style="width: 900px; height: 500px;"></div>
    <div id="piechart2" style="width: 900px; height: 500px;"></div>
    <div id="piechart3" style="width: 900px; height: 500px;"></div>
    <div id="piechart4" style="width: 900px; height: 500px;"></div>
  </body>
</html>
{%endblock%}